{"version":3,"sources":["webpack:///webpack/bootstrap 5ffca396aa96671f8be4","webpack:///../src/instantiateComponent.js","webpack:///../src/DOM.js","webpack:///./app.js","webpack:///../qreact.js","webpack:///../src/render.js","webpack:///../src/DomComponent.js","webpack:///../src/createElement.js","webpack:///../src/Component.js"],"names":["instantiateComponent","element","type","props","wrapperInstance","setInternalElement","empty","node","firstChild","removeChild","appendChild","dom","child","appendChildren","children","Array","isArray","forEach","replaceNode","newNode","parentNode","App","constructor","removeStory","story","stories","state","index","findIndex","s","id","splice","setState","name","url","render","map","Story","handleClick","likes","Math","ceil","random","onRemove","document","getElementById","DOM_KEY","reactInstances","incrementId","isRendered","mount","update","component","instantiate","DOM","getInternalDom","componentId","reconcile","DomComponent","_element","_domNode","createTextNode","createElement","_updateDOMProperties","_createInitialDOMChildren","nextElement","_updateDOMChildren","indexOf","textContent","count","max","length","_renderedChildren","i","childElement","renderedComponent","push","filter","domChildren","prevProps","nextProps","isEvent","startsWith","isAttribute","Object","keys","eventType","toLowerCase","substring","removeEventListener","addEventListener","getInternalElement","config","assign","concat","mapElement","Component","console","log","partialState","currentRenderedElement","_renderedComponent","nextRenderedElement","nextRenderedComponent","renderedElement"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5ffca396aa96671f8be4","import DomComponent from './DomComponent';\n\nfunction instantiateComponent(element) {\n  const { type, props } = element;\n  let wrapperInstance;\n\n  if (typeof type == 'string') {\n    wrapperInstance = new DomComponent(element);\n  } else if (typeof type == 'function') {\n    wrapperInstance = new type(props);\n    wrapperInstance.setInternalElement(element);\n  }\n  return wrapperInstance;\n}\n\nexport default instantiateComponent;\n\n\n// WEBPACK FOOTER //\n// ../src/instantiateComponent.js","function empty(node) {\n  while (node.firstChild) {\n    node.removeChild(node.firstChild);\n  }\n}\n\nfunction appendChild(dom, child) {\n  dom.appendChild(child);\n}\n\nfunction appendChildren(node, children) {\n  if (Array.isArray(children)) {\n    children.forEach(child => appendChild(node, child));\n  } else {\n    appendChild(node, children);\n  }\n}\n\nfunction replaceNode(node, newNode) {\n  node.parentNode.replaceNode(newNode);\n}\n\nfunction removeChild(node, child) {\n  node.removeChild(child);\n}\n\nexport default {\n  empty,\n  appendChild,\n  appendChildren,\n  replaceNode,\n  removeChild,\n}\n\n\n// WEBPACK FOOTER //\n// ../src/DOM.js","import { render, createElement, Component } from '../qreact';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      stories: [\n        { id: 1, name: \"[Webpack] — Smart Loading Assets For Production\", url: \"https://hackernoon.com/webpack-smart-loading-assets-for-production-3571e0a29c2e\" },\n        { id: 2, name: \"V8 Engine Overview\", url: \"https://medium.com/@MQuy90/v8-engine-overview-7c965731ced4\" },\n      ]\n    }\n  }\n  render() {\n    const { stories } = this.state;\n\n    return (\n      <div>\n        <ul>\n          {\n            stories.map((story) => (\n              <Story story={story} onRemove={this.removeStory}/>\n            ))\n          }\n        </ul>\n      </div>\n    );\n  }\n  removeStory = (story) => () => {\n    const { stories } = this.state;\n\n    const index = stories.findIndex((s) => s.id == story.id);\n    stories.splice(index, 1);\n\n    this.setState(stories);\n  }\n}\n\nclass Story extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = { likes: Math.ceil(Math.random() * 100) };\n  }\n  render() {\n    const { story, onRemove } = this.props;\n    const { likes } = this.state;\n    \n    return (\n      <li>\n        <button onClick={this.handleClick}>{likes}❤️</button>\n        <a href={story.url}>{story.name}</a>\n        <button onClick={onRemove(story)}>Remove</button>\n      </li>\n    );\n  }\n  handleClick = () => {\n    this.setState({\n      likes: this.state.likes + 1\n    })\n  }\n}\n\nrender(<App />, document.getElementById(\"root\"));\n\n\n// WEBPACK FOOTER //\n// ./app.js","import render from './src/render';\nimport createElement from './src/createElement';\nimport Component from './src/Component';\n\nexport {\n  render,\n  createElement,\n  Component,\n}\n\n\n// WEBPACK FOOTER //\n// ../qreact.js","import DOM from './DOM';\nimport instantiateComponent from './instantiateComponent';\n\nconst DOM_KEY = '_qreact_';\nconst reactInstances = {};\nlet incrementId = 0;\n\nfunction isRendered(node) {\n  return node[DOM_KEY];\n}\n\nfunction render(element, node) {\n  if (!isRendered(node)) {\n    mount(element, node);\n  } else {\n    update(element, node);\n  }\n}\n\nfunction mount(element, node) {\n  node[DOM_KEY] = incrementId;\n\n  const component = instantiateComponent(element);\n  \n  reactInstances[incrementId] = component;\n  component.instantiate();\n\n  DOM.empty(node);\n  DOM.appendChild(node, component.getInternalDom());\n\n  incrementId++;\n}\n\nfunction update(element, node) {\n  const componentId = node[DOM_KEY];\n\n  reactInstances[componentId].reconcile();\n}\n\nexport default render;\n\n\n// WEBPACK FOOTER //\n// ../src/render.js","import DOM from './DOM';\nimport instantiateComponent from './instantiateComponent';\n\nclass DomComponent {\n  constructor(element) {\n    this._element = element;\n    this._domNode = null;\n  }\n  instantiate() {\n    const { type, props } = this._element;\n\n    if (type == 'TEXT_ELEMENT') {\n      this._domNode = document.createTextNode(\"\");\n    } else {\n      this._domNode = document.createElement(type);\n    }\n    this._updateDOMProperties({}, props);\n    this._createInitialDOMChildren(props);\n  }\n  reconcile(nextElement) {\n    if (this._element.type == nextElement.type) {\n      this._updateDOMProperties(this._element.props, nextElement.props);\n      this._element = nextElement;\n      this._updateDOMChildren();\n    } else {\n      this._element = nextElement;\n      this.instantiate();\n    }\n  }\n  _updateDOMChildren() {\n    const { children } = this._element.props;\n\n    if (['string', 'number'].indexOf(typeof children) !== -1) {\n      this._domNode.textContent = children;\n    } else {\n      const count = Math.max(children.length, this._renderedChildren.length);\n\n      for(let i = 0 ; i < count ; ++i) {\n        const childElement = children[i];\n        const renderedComponent = this._renderedChildren[i];\n\n        if (!renderedComponent) {\n          const component = instantiateComponent(childElement);\n\n          component.instantiate();\n          this._renderedChildren.push(component);\n          DOM.appendChild(this._domNode, component.getInternalDom());\n        } else if (!childElement) {\n          this._renderedChildren[i] = null;\n          DOM.removeChild(this._domNode, renderedComponent.getInternalDom());\n        } else {\n          renderedComponent.reconcile(childElement);\n        }\n      }\n\n      this._renderedChildren = this._renderedChildren.filter((child) => child);\n    }\n  }\n  _createInitialDOMChildren(props) {\n    const { children } = props;\n\n    if (['string', 'number'].indexOf(typeof children) !== -1) {\n      this._domNode.textContent = children;\n    } else {\n      this._renderedChildren = children.map((child) => instantiateComponent(child));\n      this._renderedChildren.forEach((child) => child.instantiate());\n\n      const domChildren = this._renderedChildren.map((child) => child.getInternalDom());\n\n      DOM.appendChildren(this._domNode, domChildren);\n    }\n  }\n  _updateDOMProperties(prevProps, nextProps) {\n    const isEvent = name => name.startsWith(\"on\");\n    const isAttribute = name =>\n      !isEvent(name) && name != \"children\" && name != \"style\";\n\n    Object.keys(prevProps)\n    .filter(isEvent)\n    .forEach(name => {\n      const eventType = name.toLowerCase().substring(2);\n      this._domNode.removeEventListener(eventType, prevProps[name]);\n    });\n\n    Object.keys(prevProps)\n      .filter(isAttribute)\n      .forEach(name => {\n        this._domNode[name] = null;\n      });\n\n    Object.keys(nextProps)\n      .filter(isAttribute)\n      .forEach(name => {\n        this._domNode[name] = nextProps[name];\n      });\n\n    Object.keys(nextProps)\n      .filter(isEvent)\n      .forEach(name => {\n        const eventType = name.toLowerCase().substring(2);\n        this._domNode.addEventListener(eventType, nextProps[name]);\n      });\n  }\n  getInternalElement() {\n    return this._element;\n  }\n  getInternalDom() {\n    return this._domNode;\n  }\n}\n\nexport default DomComponent;\n\n\n// WEBPACK FOOTER //\n// ../src/DomComponent.js","function createElement(type, config, ...children) {\n  const props = Object.assign({}, config);\n\n  if (children.length > 0) {\n    props.children = [].concat(...children);\n  }\n\n  if (Array.isArray(props.children)) {\n    props.children = props.children.map((child) => mapElement(child));\n  } else if (type != 'TEXT_ELEMENT' && props.children) {\n    props.children = mapElement(props.children);\n  }\n\n  return { type, props };\n}\n\nfunction mapElement(child) {\n  return child instanceof Object ? child : createElement('TEXT_ELEMENT', { children: child });\n}\n\nexport default createElement;\n\n\n// WEBPACK FOOTER //\n// ../src/createElement.js","import instantiateComponent from './instantiateComponent';\n\nclass Component {\n  constructor(props) {\n    this.props = props;\n    this.state = {};\n    console.log(this);\n  }\n  setState(partialState) {\n    Object.assign(this.state, partialState);\n    this.reconcile(this._element);\n  }\n  reconcile(nextElement) {\n    this._element = nextElement;\n    this.props = nextElement.props;\n\n    const currentRenderedElement = this._renderedComponent.getInternalElement();\n    const nextRenderedElement = this.render();\n\n    if (currentRenderedElement.type == nextRenderedElement.type) {\n      this._renderedComponent.reconcile(nextRenderedElement);\n    } else {\n      const nextRenderedComponent = instantiateComponent(nextRenderedElement);\n\n      nextRenderedComponent.instantiate();\n      DOM.replaceNode(this._renderedComponent.getInternalDom(), nextRenderedComponent.getInternalDom());\n      this._renderedComponent = nextRenderedComponent;\n    }\n  }\n  instantiate() {\n    const renderedElement = this.render();\n    const renderedComponent = instantiateComponent(renderedElement);\n\n    this._renderedComponent = renderedComponent;\n    renderedComponent.instantiate();\n  }\n  getInternalDom() {\n    return this._renderedComponent.getInternalDom();\n  }\n  getInternalElement() {\n    return this._element;\n  }\n  setInternalElement(element) {\n    this._element = element;\n  }\n}\n\nexport default Component;\n\n\n// WEBPACK FOOTER //\n// ../src/Component.js"],"sourceRoot":""}